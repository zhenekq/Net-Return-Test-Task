<div class="calculate">
  <form [formGroup]="form" (ngSubmit)="onSubmit()" style="width: 100%; display: flex;align-items: center;justify-content: space-between;">
    <div class="calculateForm">
      <div class="form-group">               
        <mat-form-field 
        
        [ngClass]="{ 'is-invalid': submitted && f['price'].errors }">
        <mat-label>Purchase price of the property $</mat-label>
          <input
            type="text"
            matInput
            placeholder="Purchase price $"
            formControlName="price"                 
          />
        </mat-form-field>
          <div *ngIf="submitted && f['price'].errors" class="invalid-feedback">
              <div *ngIf="f['price'].errors['required']" style="color:red; font-size:10px;margin-top:-20px">This field is required</div>
              <div *ngIf="f['price'].errors['pattern']" style="color:red; font-size:10px;margin-top:-20px">This field must be a number</div>
          </div>
      </div>
      <div class="form-group">               
        <mat-form-field 
        [ngClass]="{ 'is-invalid': submitted }">
        <mat-label>Rental price, $ per month</mat-label>
          <input
            type="text"
            matInput
            placeholder="Rental price, $ per month"
            formControlName="monthlyRent" 
            numbersOnly                  
          />
        </mat-form-field>
        <div *ngIf="submitted && f['monthlyRent'].errors" class="invalid-feedback">
          <div *ngIf="f['monthlyRent'].errors['required']" style="color:red; font-size:10px;margin-top:-20px">This field is required</div>
          <div *ngIf="f['monthlyRent'].errors['pattern']" style="color:red; font-size:10px;margin-top:-20px">This field must be a number</div>
        </div>
      </div>
      <div class="form-group">               
        <mat-form-field 
        [ngClass]="{ 'is-invalid': submitted }">
        <mat-label>Annual expenses $</mat-label>
          <input
            type="text"
            matInput
            placeholder="Annual rental fee"
            formControlName="expenses"
            numbersOnly                   
          />
        </mat-form-field>
        <div *ngIf="submitted && f['expenses'].errors" class="invalid-feedback">
          <div *ngIf="f['expenses'].errors['required']" style="color:red; font-size:10px;margin-top:-20px">This field is required</div>
          <div *ngIf="f['expenses'].errors['pattern']" style="color:red; font-size:10px;margin-top:-20px">This field must be a number</div>
        </div>
      </div>
    </div>
    <div class="actions">
      <button mat-button class="confirm" >Calculate</button>
      <button mat-button (click)="onClear()">Clear</button>
    </div>
</form>
</div>

<div *ngIf="submitted && this.isCalculate" class="result">
  <div>
    First year monthly income : <span>{{incomePerMonthFirstYear}}$</span> 
  </div>
  <div>
    Second year monthly income : <span>{{incomePerMonthSecondYear}}$</span> 
  </div>
  <div>
    Third year monthly income : <span>{{incomePerMonthThirdYear}}$</span> 
  </div>
  <div>
    First 3 year income : <span>{{incomeFirstThreeYears}}$</span>
  </div>
  <div>
    Full payback (years): <span>{{payBackYear}}</span>
  </div>

</div>


